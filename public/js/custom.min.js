var initDataTables={issueListTable:function(t){var e=$("#issueListTable").DataTable({dom:"lrtip",responsive:!0,bAutoWidth:!1,select:!0,searchDelay:1500,processing:!0,serverSide:!0,ajax:{url:t,data:function(t){t.status=1},dataSrc:function(t){return!!t.recordsTotal&&t.data}},order:[[1,"desc"]],columns:[{data:"baslik",render:function(t,e,a){return'<a href="/edit_issue/'+a.id+'">'+t+"</a>"}},{data:"kayit_tarihi",render:function(t,e,a){var n=new Date(t.date);return moment(n.toString()).format("DD/MM/YYYY HH:mm:ss")}},{data:"duzenleme_tarihi",render:function(t,e,a){var n=new Date(t.date);return moment(n.toString()).format("DD/MM/YYYY HH:mm:ss")}},{data:"durum",render:function(t,e,a){return 1==a.durum?'<button type="button" class="btn btn-warning btn-xs">Open</button>':'<button type="button" class="btn btn-danger btn-xs">Closed</button>'},orderable:!1},{data:"durum",render:function(t,e,a){return 1==a.durum?'<button data-issueid="'+a.id+'" type="button" class="changeIssueStatus btn btn-danger btn-xs">Close</button>':""},orderable:!1}]});$(document).on("click",".changeIssueStatus",function(){if(confirm("Are you sure about closing the issue?")){var t=$(this).data("issueid");$.ajax({type:"POST",dataType:"json",data:{id:t},url:"/issues/updateStatus",success:function(t){"success"==t.result&&e.ajax.reload()}})}})}},initDatepickers={},initCharts={},initMessage={check:function(t){if(t.message){var e=t.message;return this[e.type](e.resultType,e.title,e.text)}},notify:function(t,e,a){return new PNotify({title:e,text:a,type:t})}};$(document).ajaxComplete(function(t,e,a){var n=jQuery.parseJSON(e.responseText);initMessage.check(n),401==e.status&&window.location.reload()}),$.fn.dataTableExt.sErrMode="none",$(document).ready(function(){$("#menu_toggle").click(function(){var t;$(".logo").hasClass("opened")?(t="ism",$(".logo").removeClass("opened")):(t="issue management",$(".logo").addClass("opened")),$(".logo").text(t)}),"undefined"!=typeof pnotify&&new PNotify({title:pnotify.title,text:pnotify.text,type:pnotify.type}),$("#form_tags").tagsInput({width:"auto"})}),$.each(sm.datatables.list,function(){_funct=this.id,_url=this.ajaxUrl,_params=this.params,initDataTables[_funct](_url,_params)}),$.each(sm.datepickers.list,function(){_funct=this.id,_url=this.ajaxUrl,initDatepickers[_funct](_url)}),$.each(sm.fancybox.list,function(){_cn=this.class,$("."+_cn).fancybox()}),$.each(sm.charts.list,function(){_funct=this.id,_data1=this.data1,_data2=this.data2,_data3=this.data3,initCharts[_funct](_data1,_data2,_data3)});